<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicine Recommendation System</title>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
    <div class="container">
        <h1>Medicine Recommendation System</h1>

        <form id="medicine-form">
            <div class="form-group">
                <label for="age">Age:</label>
                <input type="number" id="age" name="age" placeholder="Enter your age" required>
            </div>

            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" required>
                    <option value="" disabled selected>Select your gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>

            <div class="form-group">
                <label for="symptom">Symptoms:</label>
                <input type="text" id="symptom" name="symptom" placeholder="Enter symptoms" required>
            </div>

            <div class="form-group" id="fever-temp-group" style="display: none;">
                <label for="fever_temp">Temperature (if fever is selected):</label>
                <input type="number" id="fever_temp" name="fever_temp" placeholder="Enter temperature (°C)">
            </div>

            <div class="form-group">
                <button type="submit">Get Recommendations</button>
            </div>
        </form>

        <div id="result-section" style="display:none;">
            <h2>Recommended Medicines</h2>
            <ul id="recommendations-list"></ul>
            <p id="fever-info"></p>
            <p id="age-warning" class="warning"></p>
        </div>
    </div>

    <script>
        const commonMedicines = {
            "fever": "Paracetamol",
            "cough": "Cough Syrup (Dextromethorphan)",
            "cold": "Antihistamines (e.g., Chlorpheniramine)",
            "headache": "Ibuprofen or Acetaminophen",
            "stomach pain": "Antacids (e.g., Ranitidine)",
            "nausea": "Antiemetics (e.g., Dimenhydrinate)",
            "allergy": "Antihistamines (e.g., Loratadine or Cetirizine)",
            "body pain": "Aspirin or Ibuprofen",
            "sore throat": "Throat Lozenges (e.g., Benzocaine)",
            "diarrhea": "Oral Rehydration Solution (ORS)",
            "indigestion": "Digestive Enzymes (e.g., Pancreatin)",
            "constipation": "Laxatives (e.g., Bisacodyl or Psyllium Husk)",
            "acid reflux": "Proton Pump Inhibitors (e.g., Omeprazole)",
            "sinus congestion": "Decongestants (e.g., Pseudoephedrine)",
            "back pain": "Naproxen",
            "muscle pain": "Topical Pain Relievers (e.g., Menthol or Capsaicin Cream)",
            "rashes": "Hydrocortisone Cream",
            "eye irritation": "Artificial Tears or Eye Drops",
            "minor cuts and scrapes": "Antibiotic Ointment (e.g., Neosporin)",
            "motion sickness": "Dimenhydrinate (Dramamine)",
            "heartburn": "Antacids (e.g., Calcium Carbonate)",
            "toothache": "Benzocaine Gel or Ibuprofen",
            "sunburn": "Aloe Vera Gel or Hydrocortisone Cream"
        };

        document.getElementById('medicine-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const age = parseInt(document.getElementById('age').value);
            const gender = document.getElementById('gender').value;
            const symptoms = document.getElementById('symptom').value.split(',').map(s => s.trim().toLowerCase());
            const feverTemp = document.getElementById('fever_temp').value;

            // Show age warning if under 16
            if (age < 16) {
                document.getElementById('age-warning').textContent = "Sorry, this service is only available for users 16 years and older.";
                document.getElementById('result-section').style.display = 'none';
                return;
            }

            // Process recommendations
            const recommendations = [];
            let medicineFound = false;

            symptoms.forEach(symptom => {
                if (commonMedicines[symptom]) {
                    recommendations.push(`Recommended medicine for ${symptom}: ${commonMedicines[symptom]}`);
                    medicineFound = true;
                }
            });

            if (medicineFound) {
                document.getElementById('result-section').style.display = 'block';
                document.getElementById('age-warning').textContent = '';
                document.getElementById('recommendations-list').innerHTML = recommendations.map(r => `<li>${r}</li>`).join('');
            } else {
                document.getElementById('recommendations-list').innerHTML = '';
                document.getElementById('result-section').style.display = 'none';
                alert("No specific OTC medicine found for the entered symptoms. Please consult a doctor.");
            }

            // Show fever temperature message if fever is present
            if (symptoms.includes('fever') || symptoms.includes('cold')) {
                if (feverTemp) {
                    document.getElementById('fever-info').textContent = `Your fever temperature is ${feverTemp}°C. If it persists, consult a doctor.`;
                } else {
                    document.getElementById('fever-info').textContent = "You have a fever or cold. Please monitor your temperature and stay hydrated.";
                }
            }
        });

        document.getElementById('symptom').addEventListener('input', function() {
            const symptomValue = this.value.toLowerCase();
            const feverTempGroup = document.getElementById('fever-temp-group');
            if (symptomValue.includes('fever') || symptomValue.includes('cold')) {
                feverTempGroup.style.display = 'block';
            } else {
                feverTempGroup.style.display = 'none';
            }
        });
    </script>
</body>
</html>
